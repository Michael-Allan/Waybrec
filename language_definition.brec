Definition of the language Waybrec

    - Waybrec extends Breccia.
    - This document defines the extensions.
        : see `introduced by Waybrec` @ `^^typology$` @ `^^ Node$`


    ━━━━━━━━━━━━━━━
     Command point
    ───────────────
        : see @ http://reluk.ca/project/Breccia/language_definition.brec
        - No formal referent of a command point is located in the way model,
          except where documented in the language definition.
            / While the effect of a patch is located in the way model, for instance,
              the node it refers to (via its node indicator) is located in waysource.



    ━━━━━━
     Node
    ──────
        : see @ http://reluk.ca/project/Breccia/language_definition.brec
        typology
            / Types marked on the right side are the new types introduced by Waybrec.
            • document node
            ◇ body node
                • division
                ◇ point
                    ◇ formal point
                        ◇ command point
                            ◇ associative reference
                                • jointer
                                • pointer
                            • null command
                            ◇ patch               · · · · · · ◇
                                • deletion patch    · · · · · · •
                                • replacement patch     · · · · •
                                ◇ child insertion patch   · · ◇
                                    • prependage patch    · · · •
                                    • appendage patch       · · •
                                ◇ sibling insertion patch     ◇
                                    • precession patch      · · •
                                    • succession patch    · · · •
                            • wayhead designator        · · · · •
                    ◇ material point
                        ◇ specialized material point
                            • aside point
                            • exception point
                            • task point
                        • generic point



    ━━━━━━━
     Patch
    ───────
        / A command point.
        - It alters the way model at a given node.
            / The way model, not the waysource from which it was compiled.
        - Following is the sketch of a definition.
            redact+

        deletion patch
            - `: delete …`
            - deletes the referent node from the way model
            - First term: mandatory.

        replacement patch
            - `: replace …`
            - replaces the referent node in the way model
            - first term
                - defaults (like elsewhere, mutatis mutandis)
                  to a pattern based on the head of the first child of the patch
                    - so the referent head would be unchanged,
                      or changed only trivially as the pattern formation allows


        ───────────────────────
         child insertion patch
        ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈
            - A principal use case: ease of engagement declaration in recasts.

            prependage patch
                - `: prepend @ …`
                - Adds its children (to the way model) as the first children of the referent node.
                - First term: mandatory.

            appendage patch
                - `: append @ …`
                - Adds its children (to the way model) as the last children of the referent node.
                - First term: mandatory.


        ─────────────────────────
         sibling insertion patch
        ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈
            precession patch
                - `: precede …`
                - inserts its children (to the way model) as siblings directly before the referent node
                - First term: mandatory.
            succession patch
                - `: succeed …`
                - appends its children (to the way model) as siblings directly after the referent node
                - First term: mandatory.



    ━━━━━━━━━━━━━━━━━━━━
     Wayhead designator
    ────────────────────
        / A command point.
        - It marks its parent as a wayhead node.
        - Its descriptor has this form:

               ─── wayhead ────▶

            figure, The form of the descriptor of a Wayhead designator.



                                        \ Copyright © 2019, Michael Allan and contributors.  Licence MIT.
